# Диаграммы классов 
![image](https://github.com/user-attachments/assets/cd175398-2af4-4b9a-b300-db4697f12d65)








# Классы и их атрибуты и методы:

## 1. Учетная запись (Account)
- Это родительский класс, который содержит общие атрибуты для всех типов учетных записей в системе:

 - login (String) — логин для авторизации в системе.

- password (String) — пароль для доступа.

- role (String) — роль пользователя в системе (например, пользователь, государственный служащий или администратор).

## 2. Пользователь (User)
- Этот класс расширяет Account и добавляет атрибуты, специфичные для пользователя:

- lastName, firstName, middleName — ФИО пользователя.

- citizenship — гражданство пользователя.

- passportSeries, passportNumber — серия и номер паспорта.

- tin — ИНН пользователя.

- email — электронная почта пользователя.

- city, street, house, apartment — адрес пользователя (город, улица, дом, квартира).

## 3. Государственный служащий (GovernmentEmployee)
- Этот класс расширяет Account и представляет данные для госслужащих, но не добавляет дополнительных атрибутов. Он 
  служит для представления роли государственного служащего.

## 4. Администратор (Administrator)
- Этот класс также расширяет Account и представляет роль администратора в системе, без дополнительных атрибутов.

## 5. Заявка (Application)
- Класс, который описывает заявку пользователя на услугу:

- status (String) — статус заявки (например, "на рассмотрении", "выполнено").

- submissionDate (Date) — дата подачи заявки.

- result (String) — результат выполнения заявки.

- completionDate (Integer) — дата завершения выполнения заявки.

## 6. Услуга (Service)
- Класс, представляющий услугу, к которой подается заявка:

- name (String) — название услуги.

- description (String) — описание услуги.

- startDate (Date) — дата начала предоставления услуги.

- endDate (Date) — дата окончания предоставления услуги.

## 7. Правило (Rule)
- Класс, который определяет правило для предоставления услуги:

 - name (String) — название правила.

 - description (String) — описание правила.

 - operator (String) — оператор, который используется для сравнения или логической проверки.

 - value (String) — значение для сравнения.

 - userParameter (String) — параметр пользователя, который проверяется правилом.

 - term (Integer) — срок действия правила или услуга.

   
# Репозитории:
 - Репозитории используются для работы с данными в приложении. Они служат абстракцией для доступа к базе данных, инкапсулируя всю логику работы с хранилищем данных.

## UserRepository:
- Описание: Репозиторий для работы с данными о пользователях. Он отвечает за операции, связанные с пользователями, такие как добавление нового пользователя, обновление существующего, удаление и поиск.

## Методы:

 - findById(id: Long): User — находит пользователя по его уникальному идентификатору.

 - save(user: User): void — сохраняет нового пользователя в базе данных.

 - deleteById(id: Long): void — удаляет пользователя по его уникальному идентификатору.

## ApplicationRepository

 - Описание: Репозиторий для работы с заявками. Этот репозиторий управляет заявками, поданными пользователями, включая 
   создание, поиск, обновление статуса и удаление заявок.

## Методы:

 - findById(id: Long): Application — находит заявку по ее идентификатору.

 - findByStatus(status: String): List<Application> — находит все заявки с определенным статусом.

 - save(application: Application): void — сохраняет заявку в базе данных.

 - deleteById(id: Long): void — удаляет заявку по ее идентификатору.

## ServiceRepository

 - Описание: Репозиторий для работы с услугами. Этот репозиторий управляет услугами, предоставляемыми системой, и 
   поддерживает операции создания, удаления и получения информации о них.

## Методы:

- findById(id: Long): Service — находит услугу по ее идентификатору.

- save(service: Service): void — сохраняет услугу в базе данных.

- deleteById(id: Long): void — удаляет услугу по ее идентификатору.

## RuleRepository

- Описание: Репозиторий для работы с правилами. Это не полностью реализованный репозиторий, который должен обеспечивать доступ к данным правил, связанных с услугами.

## Методы:

 - findById(id: Long): Rule — находит правило по его идентификатору. Возвращает объект типа Rule, если правило существует, или null, если правило с таким идентификатором не найдено.

 - save(rule: Rule): void — сохраняет правило в базе данных. Если правило с таким идентификатором уже существует, оно будет обновлено, если нет — добавлено новое правило.

 - deleteById(id: Long): void — удаляет правило по его идентификатору. Выполняет операцию удаления правила из базы данных.

# Сервисный слой
- Сервисный слой инкапсулирует бизнес-логику и связывает репозитории с контроллерами. Сервисы осуществляют операции, требующие обработки данных, и могут включать в себя сложные вычисления и проверки.

## UserService

- Описание: Сервис для работы с пользователями. В нем реализована бизнес-логика для регистрации пользователей, обновления данных и получения информации о заявках.

## Методы:

 - registerUser(userData: Map): User — регистрирует нового пользователя, принимая данные и создавая объект 
   пользователя.

 - updateUser(userId: Long, updateData: Map): User — обновляет данные существующего пользователя.

 - getUserApplications(userId: Long): List<Application> — получает все заявки пользователя, что помогает отображать информацию для него.

## ApplicationService

 - Описание: Сервис для работы с заявками. Управляет процессами создания и отмены заявок, а также получения статуса заявок.

## Методы:

 - createApplication(userId: Long, serviceId: Long): Application — создает заявку для пользователя на определенную услугу.

 - cancelApplication(applicationId: Long): void — отменяет заявку по ее идентификатору.

 - getApplicationStatus(applicationId: Long): String — возвращает текущий статус заявки.

## GovernmentService

- Описание: Сервис для работы с госслужащими. Инкапсулирует логику обработки заявок и обновления их статусов и результатов.

## Методы:

 - processApplication(applicationId: Long): void — инициирует обработку заявки госслужащим.

 - updateStatus(applicationId: Long, status: String): void — обновляет статус заявки.

 - setResult(applicationId: Long, result: String): void — устанавливает результат выполнения заявки (например, "одобрено" или "отклонено").

## AdminService

- Описание: Сервис для работы с администраторами. Он управляет созданием новых услуг, добавлением правил и созданием дорожных карт для процессов предоставления услуг.

## Методы:

 - createService(serviceData: Map): Service — создает новую услугу.

 - addRule(ruleData: Map): Rule — добавляет новое правило для услуги.

 - createRoadMap(services: List<Service>): void — создает дорожную карту для процесса предоставления услуг, включая последовательность и сроки.

# Контроллеры
 - Контроллеры отвечают за взаимодействие с пользователями через API, принимая запросы и передавая их в соответствующие сервисы для обработки.

## UserController

 - Описание: Контроллер для работы с пользователями, который взаимодействует с сервисами пользователей и заявок.

## Методы:

 - submitApplication(serviceId: Long): ResponseEntity — позволяет пользователю подать заявку на услугу.

 - getApplications(): ResponseEntity — позволяет пользователю получить список своих заявок.

 - cancelApplication(applicationId: Long): ResponseEntity — позволяет пользователю отменить заявку.

## GovernmentController

- Описание: Контроллер для работы с госслужащими. Он управляет процессом обработки заявок.

## Методы:

 - processApplication(applicationId: Long): ResponseEntity — позволяет госслужащему начать обработку заявки.

 - updateStatus(applicationId: Long): ResponseEntity — позволяет госслужащему обновить статус заявки.

## AdminController

- Описание: Контроллер для работы с администраторами, который управляет услугами, правилами и дорожными картами.

## Методы:

 - createService(): ResponseEntity — создает новую услугу через сервис.

 - addRule(): ResponseEntity — добавляет новое правило для услуги через сервис.

 - createRoadMap(): ResponseEntity — создает дорожную карту для предоставления услуг через сервис.



## Связи между классами:

- Account <|-- User: Класс User наследует класс Account. Это означает, что User является специализированным типом Account и наследует все атрибуты и методы, связанные с учетной записью (логин, пароль, роль).

- Account <|-- GovernmentEmployee: Класс GovernmentEmployee также наследует Account, что позволяет госслужащим иметь учетную запись с аттрибутами логина, пароля и роли.

- Account <|-- Administrator: Класс Administrator наследует Account, что позволяет администраторам иметь учетные данные, как логин, пароль и роль.

- User "1" -- "*" Application: Один пользователь может подать несколько заявок, то есть связь между User и Application является один ко многим (один пользователь может иметь множество заявок).

- Application "*" -- "1" Service: Каждая заявка связана с одной услугой, но одна услуга может быть заявлена в нескольких заявках. Связь "многие к одному" между Application и Service.

- Service "1" -- "*" Rule: Каждая услуга может иметь множество правил, которые ее регулируют. Связь "один ко многим" между Service и Rule.

## Связи сервисов с репозиториями:
- UserService --> UserRepository: Сервис UserService зависит от репозитория UserRepository, который предоставляет методы для работы с данными пользователей, такие как сохранение, обновление и удаление пользователей.

- ApplicationService --> ApplicationRepository: Сервис ApplicationService зависит от репозитория ApplicationRepository, который управляет данными заявок (поиск, сохранение, удаление).

- ApplicationService --> ServiceRepository: Сервис ApplicationService также зависит от репозитория ServiceRepository, так как для создания заявки необходимо работать с данными о доступных услугах.

- GovernmentService --> ApplicationRepository: Сервис GovernmentService зависит от репозитория ApplicationRepository, так как для обработки заявок госслужащий должен иметь доступ к данным о заявках.

- AdminService --> ServiceRepository: Сервис AdminService зависит от репозитория ServiceRepository, так как для создания и редактирования услуг администратор должен взаимодействовать с данными о услугах.

- AdminService --> RuleRepository: Сервис AdminService также зависит от репозитория RuleRepository, так как администратор управляет правилами, регулирующими услуги.

## Связи контроллеров с сервисами:

- UserController --> UserService: Контроллер UserController зависит от сервиса UserService, который обрабатывает запросы, связанные с пользователями, например, регистрация или обновление данных пользователя.

- UserController --> ApplicationService: Контроллер UserController также взаимодействует с сервисом ApplicationService, чтобы обрабатывать запросы, связанные с подачей и управлением заявками пользователями.

- GovernmentController --> GovernmentService: Контроллер GovernmentController зависит от сервиса GovernmentService, который обрабатывает запросы, связанные с обработкой заявок госслужащими.

- AdminController --> AdminService: Контроллер AdminController зависит от сервиса AdminService, который управляет услугами и правилами, создаваемыми администраторами.

## Связи репозиториев с сущностями:
- UserRepository ..> User: Репозиторий UserRepository работает с сущностью User, выполняя операции с данными пользователей.

- ApplicationRepository ..> Application: Репозиторий ApplicationRepository работает с сущностью Application, выполняя операции с данными заявок.

- ServiceRepository ..> Service: Репозиторий ServiceRepository работает с сущностью Service, выполняя операции с данными услуг.

- RuleRepository ..> Rule: Репозиторий RuleRepository работает с сущностью Rule, выполняя операции с данными правил.

## Связи между конкретными ролями и сервисами:
- GovernmentEmployee ..> GovernmentService: Класс GovernmentEmployee зависит от сервиса GovernmentService, так как госслужащие обрабатывают заявки с помощью этого сервиса.

- Administrator ..> AdminService: Класс Administrator зависит от сервиса AdminService, который позволяет администраторам управлять услугами и правилами.


